"use strict";(globalThis.webpackChunknotes=globalThis.webpackChunknotes||[]).push([[1426],{9309(e,t,i){i.r(t),i.d(t,{default:()=>x});var n=i(6540),o=i(1656),r=i(6884),l=i(8989),a=i(9853),s=i(5260),d=i(6025),c=i(4848);const p=[{id:1,name:"YSL\u53e3\u7ea2",color:"#E62E2E",img:"/gift/gift1.png"},{id:2,name:"CK\u5305\u5305",color:"#FF8C00",img:"/gift/gift2.png"},{id:3,name:"\u5168\u5957\u65b0\u5e74\u9650\u5b9a\u76ae\u80a4",color:"#FFD700",img:"/gift/gift3.png"},{id:4,name:"\u7ef4\u79d8\u7761\u8863",color:"#32CD32",img:"/gift/gift4.png"},{id:5,name:"\u6735\u8389\u4e9acos\u670d",color:"#1E90FF",img:"/gift/gift5.png"},{id:6,name:"\u5956\u54c1 6",color:"#9370DB",img:"/gift/gift6.png"},{id:7,name:"\u5956\u54c1 7",color:"#FF69B4",img:"/gift/gift7.png"},{id:8,name:"\u5956\u54c1 8",color:"#20B2AA",img:"/gift/gift8.png"}];function x(){const e=(0,n.useRef)(null),t=(0,d.Ay)("/"),[i,x]=(0,n.useState)("pass1"),[h,m]=(0,n.useState)("pass1"),[u,f]=(0,n.useState)(""),[b,F]=(0,n.useState)([]),[y,w]=(0,n.useState)([]),[j,v]=(0,n.useState)([]),[S,k]=(0,n.useState)(""),[E,C]=(0,n.useState)(!1),[z,T]=(0,n.useState)(!1),[I,D]=(0,n.useState)(""),[B,W]=(0,n.useState)(!1),A=e=>`${t.endsWith("/")?t.slice(0,-1):t}${e}`;(0,n.useEffect)(()=>{const e=(new Date).toDateString(),t=btoa([navigator.userAgent,screen.width,e].join("|")).substring(0,16);D(t),localStorage.getItem(`draw_daily_${t}`)&&T(!0)},[]);const R=async e=>{try{await fetch("https://formspree.io/f/xqeqbogb",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,uid:I,time:(new Date).toLocaleString()})})}catch(t){console.error("\u63d0\u4ea4\u5931\u8d25",t)}},P=({ids:e})=>(0,c.jsx)("div",{style:{...g.prizeGrid,marginTop:"15px"},children:p.filter(t=>e.includes(t.id)).map(e=>(0,c.jsx)("div",{style:{...g.prizeItem,cursor:"default",background:"#F9FAFB",border:"none",transform:"none"},children:(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,c.jsx)("img",{src:A(e.img),style:{width:"24px",height:"24px",marginRight:"8px",objectFit:"contain"}}),(0,c.jsx)("span",{children:e.name})]})},e.id))}),G=({title:e,content:t,onConfirm:i,onCancel:n,confirmText:o="\u786e\u5b9a",cancelText:r="\u8fd4\u56de\u4fee\u6539",icon:l="\ud83c\udf81"})=>(0,c.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:g.modalOverlay,children:(0,c.jsxs)(a.P.div,{initial:{scale:.9},animate:{scale:1},style:g.modalContent,children:[(0,c.jsx)("div",{style:{fontSize:"44px",marginBottom:"10px"},children:l}),(0,c.jsx)("h2",{style:g.modalTitle,children:e}),t,(0,c.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"25px"},children:[(0,c.jsx)("button",{onClick:i,style:g.btnGradient,disabled:B,children:B?"\u540c\u6b65\u4e2d...":o}),n&&(0,c.jsx)("button",{onClick:n,style:g.btnSecondary,children:r})]})]})});return(0,c.jsxs)(o.A,{title:"\u5e78\u8fd0\u62bd\u5956",noFooter:!0,children:[(0,c.jsxs)(s.A,{children:[(0,c.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"}),(0,c.jsx)("style",{children:'\n          @keyframes borderSparkle {\n            0% { border-image-outset: 0px; filter: drop-shadow(0 0 2px rgba(255,107,107,0.2)); }\n            50% { border-image-outset: 3px; filter: drop-shadow(0 0 8px rgba(255,107,107,0.5)); }\n            100% { border-image-outset: 0px; filter: drop-shadow(0 0 2px rgba(255,107,107,0.2)); }\n          }\n          .prize-item-selected {\n            position: relative;\n            border: 12px solid transparent !important;\n            border-image: url(\'data:image/svg+xml;utf8,<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 15c-1.5-2-4-2-5.5 0-1.5 2 0 5 5.5 9 5.5-4 7-7 5.5-9-1.5-2-4-2-5.5 0z" fill="%23E62E2E"/><path d="M30 10l1.5 3h3.5l-2.5 2.5 1 3.5-3.5-2-3.5 2 1-3.5-2.5-2.5h3.5z" fill="%23FFD700"/><path d="M25 28c-1.1-1.5-2.9-1.5-4 0-1.1 1.5 0 3.7 4 6.7 4-3 5.1-5.2 4-6.7-1.1-1.5-2.9-1.5-4 0z" stroke="%23FF8C00" stroke-width="1"/><circle cx="8" cy="32" r="1.5" fill="%231E90FF"/></svg>\') 12 repeat;\n            animation: borderSparkle 2s infinite ease-in-out;\n            transform: scale(1.02);\n            z-index: 2;\n          }\n          /* \u4e2d\u6b27\u8f6c\u76d8\u6307\u9488\u6837\u5f0f */\n          .lucky-wheel-pointer {\n            position: absolute;\n            top: -25px;\n            left: 50%;\n            transform: translateX(-50%);\n            width: 0;\n            height: 0;\n            border-left: 20px solid transparent;\n            border-right: 20px solid transparent;\n            border-bottom: 35px solid #E62E2E;\n            z-index: 99;\n            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));\n          }\n          .lucky-wheel-pointer::after {\n            content: \'\';\n            position: absolute;\n            bottom: -38px;\n            left: -10px;\n            width: 20px;\n            height: 6px;\n            background: #FFD700;\n            border-radius: 3px;\n          }\n        '})]}),(0,c.jsxs)("div",{style:g.container,children:[(0,c.jsx)("div",{style:g.bgGlow}),(0,c.jsxs)(l.N,{mode:"wait",children:[("pass1"===i||"pass2"===i)&&(0,c.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:g.modalOverlay,children:(0,c.jsxs)(a.P.div,{initial:{scale:.9},animate:{scale:1},style:g.modalContent,children:[(0,c.jsx)("div",{style:{fontSize:"44px"},children:"pass1"===i?"\ud83d\udd10":"\ud83d\udd11"}),(0,c.jsx)("h2",{style:g.modalTitle,children:"pass1"===i?"\u9a8c\u8bc1\u7801 1":"\u9a8c\u8bc1\u7801 2"}),(0,c.jsx)("input",{type:"text",inputMode:"numeric",value:u,onChange:e=>f(e.target.value),style:g.input,placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}),(0,c.jsx)("button",{onClick:()=>{"pass1"===i?"1"===u?(x("exclude"),f("")):(m("pass1"),x("error")):"pass2"===i&&("2"===u?(x("focus"),f("")):(m("pass2"),x("error")))},style:g.btnGradient,children:"\u786e\u8ba4\u8fdb\u5165"})]})},i),"error"===i&&(0,c.jsx)(G,{title:"\u9a8c\u8bc1\u5931\u8d25",icon:"\ud83d\ude2d",content:(0,c.jsx)("div",{style:g.modalSubTitle,children:"pass1"===h?"\u9a8c\u8bc1\u7801 1 \u9519\u8bef":"\u9a8c\u8bc1\u7801 2 \u9519\u8bef"}),onConfirm:()=>{x(h),f("")},confirmText:"\u91cd\u65b0\u8f93\u5165"},"error"),("exclude"===i||"focus"===i)&&(0,c.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:g.modalOverlay,children:(0,c.jsxs)(a.P.div,{initial:{scale:.9},animate:{scale:1},style:g.modalContent,children:[(0,c.jsx)("h2",{style:g.modalTitle,children:"exclude"===i?"\u6392\u9664\u5956\u54c1":"\u6838\u5fc3\u613f\u671b"}),(0,c.jsx)("p",{style:g.modalSubTitle,children:"exclude"===i?"\u8bf7\u52fe\u9009 2 \u4e2a\u4f60\u3010\u4e0d\u60f3\u8981\u3011\u7684":"\u8bf7\u52fe\u9009 2 \u4e2a\u4f60\u3010\u6700\u60f3\u8981\u3011\u7684"}),(0,c.jsx)("div",{style:g.prizeGrid,children:("exclude"===i?p:p.filter(e=>!b.includes(e.id))).map(e=>{const t="exclude"===i?b.includes(e.id):y.includes(e.id);return(0,c.jsxs)("div",{onClick:()=>{return t=e.id,o="exclude"===i?F:w,r=2,void((n="exclude"===i?b:y).includes(t)?o(n.filter(e=>e!==t)):n.length<r&&o([...n,t]));var t,n,o,r},className:t?"prize-item-selected":"",style:{...g.prizeItem,borderColor:t?"transparent":"#f0f0f0",background:t?"rgba(230,46,46,0.03)":"#fff"},children:[(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,c.jsx)("img",{src:A(e.img),style:{width:"24px",height:"24px",marginRight:"10px",objectFit:"contain"}}),(0,c.jsx)("span",{style:{color:"#333",fontWeight:t?"bold":"normal"},children:e.name})]}),(0,c.jsx)("div",{style:{...g.checkbox,background:t?"#E62E2E":"transparent",borderColor:t?"#E62E2E":"#ddd"}})]},e.id)})}),(0,c.jsx)("button",{onClick:()=>x("exclude"===i?"confirm_exclude":"confirm_focus"),disabled:2!==("exclude"===i?b.length:y.length),style:{...g.btnGradient,opacity:2===("exclude"===i?b.length:y.length)?1:.4},children:"\u4e0b\u4e00\u6b65"})]})},i),"confirm_exclude"===i&&(0,c.jsx)(G,{title:"\u786e\u5b9a\u6392\u9664\u8fd9\u4e9b\u5417\uff1f",content:(0,c.jsx)(P,{ids:b}),onConfirm:()=>x("pass2"),onCancel:()=>x("exclude")},"ce"),"confirm_focus"===i&&(0,c.jsx)(G,{title:"\u786e\u5b9a\u8fd9\u5c31\u662f\u613f\u671b\u5417\uff1f",icon:"\u2728",content:(0,c.jsx)(P,{ids:y}),onConfirm:async()=>{W(!0);const e=p.filter(e=>!b.includes(e.id)),t=await Promise.all(e.map(e=>new Promise(t=>{const i=new Image;i.src=A(e.img);const n=y.includes(e.id)?30:10;i.onload=()=>t({...e,weight:n,wheelImg:i}),i.onerror=()=>t({...e,weight:n,wheelImg:{src:A(e.img)}})})));v(t),W(!1),x("wheel")},onCancel:()=>x("focus")},"cf"),"result"===i&&(0,c.jsx)(G,{title:"\ud83c\udf89 \u606d\u559c\u4e2d\u5956",icon:"\ud83c\udf08",content:(0,c.jsx)("div",{style:{...g.prizeItem,cursor:"default",margin:"20px 0",border:"none",background:"#F9FAFB",transform:"none",justifyContent:"center"},children:(0,c.jsxs)("span",{children:["\ud83c\udf81 ",S]})}),onConfirm:()=>x("wheel"),confirmText:"\u597d\u7684"},"res"),"warning"===i&&(0,c.jsx)(G,{title:"\u4eca\u65e5\u5df2\u53c2\u4e0e",icon:"\u26a0\ufe0f",content:(0,c.jsx)("div",{style:g.modalSubTitle,children:"\u8bf7\u660e\u5929\u518d\u6765\u9886\u53d6\u597d\u8fd0\u5427\uff01"}),onConfirm:()=>x("wheel"),confirmText:"\u6211\u77e5\u9053\u4e86"},"warn")]}),"wheel"===i&&j.length>0&&(0,c.jsxs)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{textAlign:"center",zIndex:1,position:"relative"},children:[(0,c.jsx)("h1",{style:g.title,children:"\u5e78\u8fd0\u5927\u8f6c\u76d8"}),(0,c.jsxs)("div",{style:g.wheelWrapper,children:[(0,c.jsx)("div",{className:"lucky-wheel-pointer"}),(0,c.jsx)(r.W1,{ref:e,width:"340px",height:"340px",blocks:[{padding:"15px",background:"linear-gradient(135deg, #FFD700 0%, #FF8C00 100%)",borderRadius:"50%",border:"3px solid #FFFFFF"}],prizes:j.map(e=>({background:e.color,border:"1px solid #FFFFFF",fonts:[{text:e.name,top:"15%",color:"#FFFFFF",fontWeight:"bold",fontSize:"13px",textAlign:"center"}],imgs:[{src:e.wheelImg?.src||A(e.img),width:"50px",height:"50px",top:"38%",borderRadius:"8px",border:"2px solid #FFFFFF"}]})),buttons:[{radius:"28%",background:"linear-gradient(135deg, #E62E2E 0%, #C71585 100%)",border:"3px solid #FFD700",pointer:!1,fonts:[{text:"\u7acb\u5373\u62bd\u5956",color:"#FFFFFF",top:"0",fontWeight:"900",fontSize:"16px",textShadow:"0 2px 4px rgba(0,0,0,0.2)"}]}],onStart:()=>{z?x("warning"):!E&&e.current&&(e.current.play(),setTimeout(()=>{const t=j.reduce((e,t)=>e+(t.weight||10),0);let i=Math.random()*t,n=0;for(let e=0;e<j.length;e++)if(i-=j[e].weight||10,i<=0){n=e;break}e.current.stop(n)},2500))},onEnd:async e=>{const t=e.fonts[0].text;k(t),C(!0),await R({type:"\u6700\u7ec8\u4e2d\u5956",prize:t}),localStorage.setItem(`draw_daily_${I}`,"true"),T(!0),x("result"),C(!1)},speed:80,duration:6,easing:"cubic-bezier(0.2, 0.8, 0.2, 1)"})]}),(0,c.jsx)("p",{style:g.drawTip,children:"\u6bcf\u65e5\u9650\u62bd1\u6b21\uff0c\u795d\u60a8\u597d\u8fd0\uff01"})]})]})]})}const g={container:{minHeight:"100vh",background:"#F5F5F5",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",touchAction:"manipulation"},bgGlow:{position:"absolute",width:"100%",height:"100%",background:"radial-gradient(circle at 50% 10%, rgba(230,46,46,0.06) 0%, rgba(245,245,245,0) 60%)",zIndex:0},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(255, 255, 255, 0.96)",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)"},modalContent:{background:"#ffffff",padding:"35px 25px",borderRadius:"20px",textAlign:"center",width:"90%",maxWidth:"380px",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",border:"1px solid #E8E8E8"},modalTitle:{color:"#333333",marginBottom:"12px",fontWeight:"700",fontSize:"22px"},modalSubTitle:{color:"#666666",fontSize:"15px",lineHeight:"1.5"},input:{width:"100%",padding:"16px",borderRadius:"12px",border:"1px solid #E8E8E8",background:"#FFFFFF",marginBottom:"20px",textAlign:"center",outline:"none",fontSize:"16px",boxSizing:"border-box"},btnGradient:{width:"100%",padding:"16px",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #E62E2E 0%, #FF8C00 100%)",color:"#fff",fontWeight:"bold",fontSize:"16px",transition:"all 0.3s ease",cursor:"pointer"},btnSecondary:{width:"100%",padding:"14px",borderRadius:"12px",border:"1px solid #E8E8E8",background:"#F8F8F8",color:"#666666",fontSize:"14px",fontWeight:"700",cursor:"pointer"},prizeGrid:{display:"flex",flexDirection:"column",gap:"12px",maxHeight:"300px",overflowY:"auto"},prizeItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",borderRadius:"12px",border:"1px solid #E8E8E8",fontSize:"16px",transform:"scale(1)",transition:"all 0.3s ease"},checkbox:{width:"20px",height:"20px",borderRadius:"50%",border:"2px solid #ddd"},title:{fontSize:"28px",letterSpacing:"4px",background:"linear-gradient(135deg, #E62E2E 0%, #FFD700 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"30px",fontWeight:"700"},wheelWrapper:{padding:"20px",background:"linear-gradient(135deg, #FFD700 0%, #FFB90F 100%)",borderRadius:"50%",boxShadow:"0 15px 40px rgba(255,140,0,0.3), inset 0 2px 4px rgba(255,255,255,0.8)",border:"4px solid #FFFFFF",position:"relative",marginBottom:"20px"},drawTip:{color:"#999999",fontSize:"14px",marginTop:"10px",marginBottom:"30px"}}}}]);