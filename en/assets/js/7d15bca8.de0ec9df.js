"use strict";(globalThis.webpackChunknotes=globalThis.webpackChunknotes||[]).push([[1426],{9309(e,t,i){i.r(t),i.d(t,{default:()=>p});var n=i(6540),o=i(1656),a=i(6884),r=i(8989),l=i(9853),d=i(5260),s=i(4848);const c=[{id:1,name:"\u5956\u54c1 1",color:"#FF6B6B"},{id:2,name:"\u5956\u54c1 2",color:"#FF8E99"},{id:3,name:"\u5956\u54c1 3",color:"#FF92AE"},{id:4,name:"\u5956\u54c1 4",color:"#FFB3BA"},{id:5,name:"\u5956\u54c1 5",color:"#FF6B6B"},{id:6,name:"\u5956\u54c1 6",color:"#FF8E99"},{id:7,name:"\u5956\u54c1 7",color:"#FF92AE"},{id:8,name:"\u5956\u54c1 8",color:"#FFB3BA"}];function p(){const e=(0,n.useRef)(),[t,i]=(0,n.useState)("pass1"),[p,u]=(0,n.useState)(""),[g,h]=(0,n.useState)([]),[f,b]=(0,n.useState)([]),[m,y]=(0,n.useState)([]),[F,w]=(0,n.useState)(!1),[j,v]=(0,n.useState)(!1),[S,k]=(0,n.useState)("");(0,n.useEffect)(()=>{const e=btoa([navigator.userAgent,screen.width].join("|")).substring(0,12);k(e),localStorage.getItem(`draw_v3_${e}`)&&v(!0)},[]);const B=async e=>{try{await fetch("https://formspree.io/f/xqeqbogb",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,uid:S,time:(new Date).toLocaleString()})})}catch(t){console.error("\u63d0\u4ea4\u5931\u8d25",t)}};return(0,s.jsxs)(o.A,{title:"\u5e78\u8fd0\u62bd\u5956",noFooter:!0,children:[(0,s.jsxs)(d.A,{children:[(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"}),(0,s.jsx)("style",{children:"\n          @keyframes heartBeat {\n            0% { transform: scale(1) rotate(0deg); }\n            50% { transform: scale(1.3) rotate(15deg); }\n            100% { transform: scale(1) rotate(0deg); }\n          }\n          .heart-active::after {\n            content: '\u2764\ufe0f';\n            position: absolute;\n            top: -12px;\n            right: -8px;\n            font-size: 20px;\n            animation: heartBeat 0.8s infinite cubic-bezier(0.215, 0.61, 0.355, 1);\n            z-index: 10;\n          }\n        "})]}),(0,s.jsxs)("div",{style:x.container,children:[(0,s.jsx)("div",{style:x.bgGlow}),(0,s.jsxs)(r.N,{mode:"wait",children:[("pass1"===t||"pass2"===t)&&(0,s.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:x.modalOverlay,children:(0,s.jsxs)(l.P.div,{initial:{scale:.9},animate:{scale:1},style:x.modalContent,children:[(0,s.jsx)("div",{style:{fontSize:"44px"},children:"pass1"===t?"\ud83d\udd10":"\ud83d\udd11"}),(0,s.jsx)("h2",{style:x.modalTitle,children:"pass1"===t?"\u9a8c\u8bc1\u7801 1":"\u9a8c\u8bc1\u7801 2"}),(0,s.jsx)("input",{type:"text",inputMode:"numeric",value:p,onChange:e=>u(e.target.value),style:x.input,placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}),(0,s.jsx)("button",{onClick:()=>{"pass1"===t?"1"===p?(i("exclude"),u("")):alert("\u5bc6\u7801 1 \u9519\u8bef"):"pass2"===t&&("2"===p?(i("focus"),u("")):alert("\u5bc6\u7801 2 \u9519\u8bef"))},style:x.btnGradient,children:"\u786e\u8ba4\u8fdb\u5165"})]})},t),("exclude"===t||"focus"===t)&&(0,s.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:x.modalOverlay,children:(0,s.jsxs)(l.P.div,{initial:{scale:.9},animate:{scale:1},style:x.modalContent,children:[(0,s.jsx)("h2",{style:x.modalTitle,children:"exclude"===t?"\u6392\u9664\u5956\u54c1":"\u6838\u5fc3\u613f\u671b"}),(0,s.jsx)("p",{style:x.modalSubTitle,children:"exclude"===t?"\u8bf7\u52fe\u9009 2 \u4e2a\u4f60\u3010\u4e0d\u60f3\u8981\u3011\u7684":"\u8bf7\u52fe\u9009 2 \u4e2a\u4f60\u3010\u6700\u60f3\u8981\u3011\u7684"}),(0,s.jsx)("div",{style:x.prizeGrid,children:("exclude"===t?c:c.filter(e=>!g.includes(e.id))).map(e=>{const i="exclude"===t?g.includes(e.id):f.includes(e.id);return(0,s.jsxs)("div",{onClick:()=>{return i=e.id,o="exclude"===t?h:b,a=2,void((n="exclude"===t?g:f).includes(i)?o(n.filter(e=>e!==i)):n.length<a&&o([...n,i]));var i,n,o,a},className:i?"heart-active":"",style:{...x.prizeItem,position:"relative",borderColor:i?"#FF6B6B":"#f0f0f0",background:i?"rgba(255,107,107,0.03)":"#fff",boxShadow:i?"0 5px 15px rgba(255,107,107,0.1)":"none"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("span",{style:{marginRight:"10px"},children:"\ud83c\udf81"}),(0,s.jsx)("span",{style:{color:"#333",fontWeight:i?"bold":"normal"},children:e.name})]}),(0,s.jsx)("div",{style:{...x.checkbox,background:i?"#FF6B6B":"transparent",borderColor:i?"#FF6B6B":"#ddd"}})]},e.id)})}),(0,s.jsx)("button",{onClick:"exclude"===t?async()=>{if(2!==g.length)return;const e=c.filter(e=>g.includes(e.id)).map(e=>e.name);B({type:"\u6392\u9664\u9009\u62e9",prizes:e}),i("pass2")}:()=>{if(2!==f.length)return;const e=c.filter(e=>!g.includes(e.id)),t=e.filter(e=>f.includes(e.id)).map(e=>e.name);B({type:"\u6700\u60f3\u8981\u9009\u62e9",prizes:t});const n=e.map(e=>({...e,weight:f.includes(e.id)?30:10}));y(n),i("wheel")},style:{...x.btnGradient,opacity:2===("exclude"===t?g.length:f.length)?1:.4},children:"\u4e0b\u4e00\u6b65"})]})},t)]}),"wheel"===t&&(0,s.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{textAlign:"center",zIndex:1},children:[(0,s.jsx)("h1",{style:x.title,children:"LUCKY WHEEL"}),(0,s.jsx)("div",{style:x.wheelWrapper,children:(0,s.jsx)(a.W1,{ref:e,width:"310px",height:"310px",blocks:[{padding:"10px",background:"#F0F0F0",borderRadius:"50%"}],prizes:m.map(e=>({background:e.color,fonts:[{text:e.name,top:"15%",color:"#fff",fontWeight:"bold",fontSize:"14px"}]})),buttons:[{radius:"35%",background:"#fff",pointer:!0,fonts:[{text:"GO",color:"#FF6B6B",top:"-10px",fontWeight:"900",fontSize:"18px"}]}],onStart:()=>{j||F||(e.current.play(),setTimeout(()=>{const t=m.reduce((e,t)=>e+t.weight,0);let i=Math.random()*t;for(let n=0;n<m.length;n++)if(i-=m[n].weight,i<=0){e.current.stop(n);break}},2500))},onEnd:async e=>{const t=e.fonts[0].text;w(!0),await B({type:"\u6700\u7ec8\u4e2d\u5956",prize:t}),localStorage.setItem(`draw_v3_${S}`,"true"),v(!0),alert(`\ud83c\udf89 \u606d\u559c\u83b7\u5f97\uff1a${t}\uff01`),w(!1)}})}),j&&(0,s.jsx)("p",{style:x.warnText,children:"\u60a8\u4eca\u65e5\u5df2\u53c2\u4e0e \u2728"})]})]})]})}const x={container:{minHeight:"100vh",background:"#FFFFFF",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",touchAction:"manipulation"},bgGlow:{position:"absolute",width:"100%",height:"100%",background:"radial-gradient(circle at 50% 10%, rgba(255,107,107,0.08) 0%, rgba(255,255,255,0) 60%)",zIndex:0},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(255, 255, 255, 0.9)",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)"},modalContent:{background:"#ffffff",padding:"35px 25px",borderRadius:"32px",textAlign:"center",width:"90%",maxWidth:"380px",boxShadow:"0 30px 60px rgba(0,0,0,0.1)",border:"1px solid rgba(0,0,0,0.02)"},modalTitle:{color:"#333",marginBottom:"5px",fontWeight:"900",fontSize:"24px"},modalSubTitle:{color:"#999",marginBottom:"25px",fontSize:"14px"},input:{width:"100%",padding:"16px",borderRadius:"16px",border:"1px solid #F0F0F0",background:"#F8F9FA",marginBottom:"20px",textAlign:"center",outline:"none",fontSize:"16px",boxSizing:"border-box"},btnGradient:{width:"100%",padding:"16px",borderRadius:"16px",border:"none",background:"linear-gradient(135deg, #FF6B6B 0%, #FF8E99 100%)",color:"#fff",fontWeight:"bold",fontSize:"16px",cursor:"pointer"},prizeGrid:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"15px",maxHeight:"300px",overflowY:"auto",WebkitOverflowScrolling:"touch",padding:"10px 5px"},prizeItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",borderRadius:"16px",border:"1px solid #f0f0f0",cursor:"pointer",fontSize:"16px",transition:"all 0.3s ease"},checkbox:{width:"20px",height:"20px",borderRadius:"50%",border:"2px solid #ddd",transition:"all 0.2s"},title:{fontSize:"32px",letterSpacing:"6px",background:"linear-gradient(135deg, #FF6B6B 0%, #FF8E99 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"40px",fontWeight:"900"},wheelWrapper:{padding:"15px",background:"#fff",borderRadius:"50%",boxShadow:"0 20px 60px rgba(0,0,0,0.06)"},warnText:{marginTop:"25px",color:"#FF6B6B",fontWeight:"bold"}}}}]);