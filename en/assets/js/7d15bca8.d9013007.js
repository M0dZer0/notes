"use strict";(globalThis.webpackChunknotes=globalThis.webpackChunknotes||[]).push([[1426],{9309(e,t,o){o.r(t),o.d(t,{default:()=>s});var n=o(6540),r=o(1656),i=o(6884),a=o(4848);const l=[{name:"\u4e00\u7b49\u5956",color:"#e91e63",weight:1},{name:"\u4e8c\u7b49\u5956",color:"#ff9800",weight:10},{name:"\u4e09\u7b49\u5956",color:"#2196f3",weight:20},{name:"\u8c22\u8c22\u53c2\u4e0e",color:"#9e9e9e",weight:69}];function s(){const e=(0,n.useRef)(),[t,o]=(0,n.useState)(!1),[s,c]=(0,n.useState)(!1),[f,g]=(0,n.useState)("");(0,n.useEffect)(()=>{const e=btoa([navigator.userAgent,screen.width,navigator.language].join("|")).substring(0,16);g(e),localStorage.getItem(`draw_v1_${e}`)&&c(!0)},[]);const h=l.map(e=>({background:e.color,fonts:[{text:e.name,top:"15%",fontSize:"16px",fontWeight:"700",color:"#fff"}]}));return(0,a.jsx)(r.A,{title:"\u62bd\u5956",noFooter:!0,children:(0,a.jsxs)("div",{style:{textAlign:"center",background:"#1a1a1a",minHeight:"100vh",color:"#fff",paddingTop:"60px",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,a.jsx)("h2",{children:"\ud83c\udf81 \u5e78\u8fd0\u5927\u8f6c\u76d8"}),(0,a.jsx)("div",{style:{marginTop:"20px"},children:(0,a.jsx)(i.W1,{ref:e,width:"320px",height:"320px",blocks:[{padding:"10px",background:"#333"}],prizes:h,buttons:[{radius:"25%",background:"#fff",pointer:!1,imgs:[{width:"40px",top:"-50px",src:"",handler:e=>{e.beginPath(),e.fillStyle="#fff",e.moveTo(20,50),e.lineTo(0,50),e.lineTo(20,0),e.lineTo(40,50),e.closePath(),e.fill()}}],fonts:[{text:"GO",color:"#333",top:"-5px",fontWeight:"bold"}]}],onStart:()=>{s?alert("\u26a0\ufe0f \u60a8\u5df2\u53c2\u4e0e\u8fc7\u62bd\u5956\uff0c\u8bf7\u52ff\u91cd\u590d\u64cd\u4f5c\u3002\u5982\u6709\u7591\u95ee\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u3002"):t||(e.current.play(),setTimeout(()=>{const t=l.reduce((e,t)=>e+t.weight,0);let o=Math.random()*t,n=0;for(let e=0;e<l.length;e++)if(o-=l[e].weight,o<=0){n=e;break}e.current.stop(n)},2500))},onEnd:async e=>{const t=e.fonts[0].text;o(!0);try{(await fetch("https://formspree.io/f/xqeqbogb",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prize:t,uid:f,info:navigator.userAgent})})).ok&&(localStorage.setItem(`draw_v1_${f}`,"true"),c(!0),alert(`\ud83c\udf89 \u606d\u559c\u83b7\u5f97\uff1a${t}\uff01\u7ed3\u679c\u5df2\u81ea\u52a8\u4fdd\u5b58\u3002`))}catch(n){alert("\u4fdd\u5b58\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u3002")}finally{o(!1)}}})}),(0,a.jsxs)("div",{style:{marginTop:"40px",fontSize:"13px",color:"#666"},children:[(0,a.jsxs)("p",{children:["ID: ",f]}),s&&(0,a.jsx)("p",{style:{color:"#e91e63"},children:"\u60a8\u5df2\u767b\u8bb0\u4e2d\u5956\u4fe1\u606f\uff0c\u65e0\u6cd5\u518d\u6b21\u542f\u52a8"})]})]})})}}}]);