"use strict";(globalThis.webpackChunknotes=globalThis.webpackChunknotes||[]).push([[1426],{9309(t,e,o){o.r(e),o.d(e,{default:()=>l});var n=o(6540),r=o(1656),i=o(6884),a=o(4848);const s=[{name:"\u4e00\u7b49\u5956",color:"#e91e63",weight:1},{name:"\u4e8c\u7b49\u5956",color:"#ff9800",weight:10},{name:"\u4e09\u7b49\u5956",color:"#2196f3",weight:20},{name:"\u8c22\u8c22\u53c2\u4e0e",color:"#9e9e9e",weight:69}];function l(){const t=(0,n.useRef)(),[e,o]=(0,n.useState)(!1),[l]=(0,n.useState)(s.map(t=>({background:t.color,fonts:[{text:t.name,top:"15%",fontSize:"16px",fontWeight:"700",color:"#fff"}]})));return(0,a.jsx)(r.A,{title:"\u62bd\u5956",noFooter:!0,children:(0,a.jsxs)("div",{style:{padding:"50px 0",textAlign:"center",background:"#1a1a1a",minHeight:"100vh",color:"#fff"},children:[(0,a.jsx)("h2",{style:{marginBottom:"30px"},children:"\ud83d\udd25 \u9650\u65f6\u5927\u62bd\u5956"}),(0,a.jsx)("div",{style:{display:"inline-block"},children:(0,a.jsx)(i.W1,{ref:t,width:"320px",height:"320px",blocks:[{padding:"12px",background:"#333",borderRadius:"50%"}],prizes:l,buttons:[{radius:"35%",background:"#fff",pointer:!0,fonts:[{text:"GO",color:"#333",top:"-10px",fontWeight:"bold"}]}],onStart:()=>{e||(t.current.play(),setTimeout(()=>{t.current.stop((()=>{const t=s.reduce((t,e)=>t+e.weight,0);let e=Math.random()*t;for(let o=0;o<s.length;o++)if(e-=s[o].weight,e<=0)return o;return 0})())},3e3))},onEnd:async t=>{const e=t.fonts[0].text;o(!0);try{(await fetch("https://formspree.io/f/xqeqbogb",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prize:e,timestamp:(new Date).toLocaleString(),userAgent:navigator.userAgent,fingerprint:Math.random().toString(36).substring(2)})})).ok?alert(`\ud83c\udf89 \u606d\u559c\uff01\u4f60\u62bd\u4e2d\u4e86\u3010${e}\u3011\uff0c\u7ed3\u679c\u5df2\u81ea\u52a8\u767b\u8bb0\uff01`):alert(`\u62bd\u4e2d\u3010${e}\u3011\uff0c\u4f46\u767b\u8bb0\u5931\u8d25\uff0c\u8bf7\u622a\u56fe\u8054\u7cfb\u7ba1\u7406\u5458\u3002`)}catch(n){console.error("Submit error:",n),alert("\u7f51\u7edc\u5f02\u5e38\uff0c\u767b\u8bb0\u5931\u8d25\uff01")}finally{o(!1)}}})}),(0,a.jsx)("p",{style:{marginTop:"20px",opacity:.6},children:e?"\u6b63\u5728\u767b\u8bb0\u7ed3\u679c...":"\u7ed3\u679c\u5c06\u81ea\u52a8\u540c\u6b65\u81f3\u540e\u53f0"})]})})}}}]);