"use strict";(globalThis.webpackChunknotes=globalThis.webpackChunknotes||[]).push([[1426],{9309(e,t,i){i.r(t),i.d(t,{default:()=>p});var n=i(6540),r=i(1656),o=i(6884),l=i(8989),a=i(9853),s=i(5260),d=i(4848);const c=[{id:1,name:"\u5956\u54c1 1",color:"#FF6B6B",img:"./gift/gift1.png"},{id:2,name:"\u5956\u54c1 2",color:"#FF8E99",img:"./gift/gift1.png"},{id:3,name:"\u5956\u54c1 3",color:"#FF92AE",img:"./gift/gift1.png"},{id:4,name:"\u5956\u54c1 4",color:"#FFB3BA",img:"./gift/gift1.png"},{id:5,name:"\u5956\u54c1 5",color:"#FF6B6B",img:"./gift/gift1.png"},{id:6,name:"\u5956\u54c1 6",color:"#FF8E99",img:"./gift/gift1.png"},{id:7,name:"\u5956\u54c1 7",color:"#FF92AE",img:"./gift/gift1.png"},{id:8,name:"\u5956\u54c1 8",color:"#FFB3BA",img:"./gift/gift1.png"}];function p(){const e=(0,n.useRef)(),[t,i]=(0,n.useState)("pass1"),[p,g]=(0,n.useState)("pass1"),[m,f]=(0,n.useState)(""),[h,u]=(0,n.useState)([]),[b,y]=(0,n.useState)([]),[F,j]=(0,n.useState)([]),[w,v]=(0,n.useState)(""),[S,k]=(0,n.useState)(!1),[z,B]=(0,n.useState)(!1),[C,T]=(0,n.useState)("");(0,n.useEffect)(()=>{const e=(new Date).toDateString(),t=btoa([navigator.userAgent,screen.width,e].join("|")).substring(0,16);T(t),localStorage.getItem(`draw_daily_${t}`)&&B(!0)},[]);const A=async e=>{try{await fetch("https://formspree.io/f/xqeqbogb",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,uid:C,time:(new Date).toLocaleString()})})}catch(t){console.error("\u63d0\u4ea4\u5931\u8d25",t)}},W=({ids:e})=>(0,d.jsx)("div",{style:{...x.prizeGrid,marginTop:"15px"},children:c.filter(t=>e.includes(t.id)).map(e=>(0,d.jsxs)("div",{style:{...x.prizeItem,cursor:"default",background:"#F9FAFB",border:"none",transform:"none"},children:[(0,d.jsx)("img",{src:e.img,alt:e.name,style:x.prizeThumbnail})," ",(0,d.jsx)("span",{children:e.name})]},e.id))}),I=({title:e,content:t,onConfirm:i,onCancel:n,confirmText:r="\u786e\u5b9a",cancelText:o="\u8fd4\u56de\u4fee\u6539",icon:l="\ud83c\udf81"})=>(0,d.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:x.modalOverlay,children:(0,d.jsxs)(a.P.div,{initial:{scale:.9},animate:{scale:1},style:x.modalContent,children:[(0,d.jsx)("div",{style:{fontSize:"44px",marginBottom:"10px"},children:l}),(0,d.jsx)("h2",{style:x.modalTitle,children:e}),t,(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginTop:"25px"},children:[(0,d.jsx)("button",{onClick:i,style:x.btnGradient,children:r}),n&&(0,d.jsx)("button",{onClick:n,style:x.btnSecondary,children:o})]})]})});return(0,d.jsxs)(r.A,{title:"\u5e78\u8fd0\u62bd\u5956",noFooter:!0,children:[(0,d.jsxs)(s.A,{children:[(0,d.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"}),(0,d.jsx)("style",{children:'\n          @keyframes borderSparkle {\n            0% { border-image-outset: 0px; filter: drop-shadow(0 0 2px rgba(255,107,107,0.2)); }\n            50% { border-image-outset: 3px; filter: drop-shadow(0 0 8px rgba(255,107,107,0.5)); }\n            100% { border-image-outset: 0px; filter: drop-shadow(0 0 2px rgba(255,107,107,0.2)); }\n          }\n          .prize-item-selected {\n            position: relative;\n            border: 12px solid transparent !important;\n            border-image: url(\'data:image/svg+xml;utf8,<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 15c-1.5-2-4-2-5.5 0-1.5 2 0 5 5.5 9 5.5-4 7-7 5.5-9-1.5-2-4-2-5.5 0z" fill="%23FF6B6B"/><path d="M30 10l1.5 3h3.5l-2.5 2.5 1 3.5-3.5-2-3.5 2 1-3.5-2.5-2.5h3.5z" fill="%23FFD93D"/><path d="M25 28c-1.1-1.5-2.9-1.5-4 0-1.1 1.5 0 3.7 4 6.7 4-3 5.1-5.2 4-6.7-1.1-1.5-2.9-1.5-4 0z" stroke="%23FF92AE" stroke-width="1"/><circle cx="8" cy="32" r="1.5" fill="%23FFB3BA"/></svg>\') 12 repeat;\n            animation: borderSparkle 2s infinite ease-in-out;\n            transform: scale(1.02);\n            z-index: 2;\n          }\n        '})]}),(0,d.jsxs)("div",{style:x.container,children:[(0,d.jsx)("div",{style:x.bgGlow}),(0,d.jsxs)(l.N,{mode:"wait",children:[("pass1"===t||"pass2"===t)&&(0,d.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:x.modalOverlay,children:(0,d.jsxs)(a.P.div,{initial:{scale:.9},animate:{scale:1},style:x.modalContent,children:[(0,d.jsx)("div",{style:{fontSize:"44px"},children:"pass1"===t?"\ud83d\udd10":"\ud83d\udd11"}),(0,d.jsx)("h2",{style:x.modalTitle,children:"pass1"===t?"\u9a8c\u8bc1\u7801 1":"\u9a8c\u8bc1\u7801 2"}),(0,d.jsx)("input",{type:"text",inputMode:"numeric",value:m,onChange:e=>f(e.target.value),style:x.input,placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}),(0,d.jsx)("button",{onClick:()=>{"pass1"===t?"1"===m?(i("exclude"),f("")):(g("pass1"),i("error")):"pass2"===t&&("2"===m?(i("focus"),f("")):(g("pass2"),i("error")))},style:x.btnGradient,children:"\u786e\u8ba4\u8fdb\u5165"})]})},t),"error"===t&&(0,d.jsx)(I,{title:"\u9a8c\u8bc1\u5931\u8d25",icon:"\u274c",content:(0,d.jsx)("div",{style:x.modalSubTitle,children:"pass1"===p?"\u9a8c\u8bc1\u7801 1 \u8f93\u5165\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u540e\u518d\u8bd5":"\u9a8c\u8bc1\u7801 2 \u8f93\u5165\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u540e\u518d\u8bd5"}),onConfirm:()=>{i(p),f("")},confirmText:"\u91cd\u65b0\u8f93\u5165"},"error"),("exclude"===t||"focus"===t)&&(0,d.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:x.modalOverlay,children:(0,d.jsxs)(a.P.div,{initial:{scale:.9},animate:{scale:1},style:x.modalContent,children:[(0,d.jsx)("h2",{style:x.modalTitle,children:"exclude"===t?"\u6392\u9664\u5956\u54c1":"\u6838\u5fc3\u613f\u671b"}),(0,d.jsx)("p",{style:x.modalSubTitle,children:"exclude"===t?"\u8bf7\u52fe\u9009 2 \u4e2a\u4f60\u3010\u4e0d\u60f3\u8981\u3011\u7684":"\u8bf7\u52fe\u9009 2 \u4e2a\u4f60\u3010\u6700\u60f3\u8981\u3011\u7684"}),(0,d.jsx)("div",{style:x.prizeGrid,children:("exclude"===t?c:c.filter(e=>!h.includes(e.id))).map(e=>{const i="exclude"===t?h.includes(e.id):b.includes(e.id);return(0,d.jsxs)("div",{onClick:()=>{return i=e.id,r="exclude"===t?u:y,o=2,void((n="exclude"===t?h:b).includes(i)?r(n.filter(e=>e!==i)):n.length<o&&r([...n,i]));var i,n,r,o},className:i?"prize-item-selected":"",style:{...x.prizeItem,borderColor:i?"transparent":"#f0f0f0",background:i?"rgba(255,107,107,0.03)":"#fff"},children:[(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,d.jsx)("img",{src:e.img,alt:e.name,style:x.prizeThumbnail})," ",(0,d.jsx)("span",{style:{color:"#333",fontWeight:i?"bold":"normal",marginLeft:"10px"},children:e.name})]}),(0,d.jsx)("div",{style:{...x.checkbox,background:i?"#FF6B6B":"transparent",borderColor:i?"#FF6B6B":"#ddd"}})]},e.id)})}),(0,d.jsx)("button",{onClick:()=>i("exclude"===t?"confirm_exclude":"confirm_focus"),disabled:2!==("exclude"===t?h.length:b.length),style:{...x.btnGradient,opacity:2===("exclude"===t?h.length:b.length)?1:.4,pointerEvents:2===("exclude"===t?h.length:b.length)?"auto":"none"},children:"\u4e0b\u4e00\u6b65"})]})},t),"confirm_exclude"===t&&(0,d.jsx)(I,{title:"\u786e\u5b9a\u6392\u9664\u8fd9\u4e9b\u5417\uff1f",content:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:x.modalSubTitle,children:"\u8fd9\u4e9b\u5956\u54c1\u5c06\u4e0d\u4f1a\u51fa\u73b0\u5728\u8f6c\u76d8\u4e2d\uff1a"}),(0,d.jsx)(W,{ids:h})]}),onConfirm:()=>{A({type:"\u6392\u9664\u9009\u62e9",prizes:c.filter(e=>h.includes(e.id)).map(e=>e.name)}),i("pass2")},onCancel:()=>i("exclude")},"ce"),"confirm_focus"===t&&(0,d.jsx)(I,{title:"\u786e\u5b9a\u8fd9\u5c31\u662f\u613f\u671b\u5417\uff1f",icon:"\u2728",content:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:x.modalSubTitle,children:"\u9009\u4e2d\u7684\u5956\u54c1\u5728\u4e2d\u5956\u51e0\u7387\u4e0a\u5c06\u5927\u5e45\u63d0\u5347\uff1a"}),(0,d.jsx)(W,{ids:b})]}),onConfirm:()=>{const e=c.filter(e=>!h.includes(e.id));A({type:"\u6700\u60f3\u8981\u9009\u62e9",prizes:e.filter(e=>b.includes(e.id)).map(e=>e.name)}),j(e.map(e=>({...e,weight:b.includes(e.id)?30:10}))),i("wheel")},onCancel:()=>i("focus")},"cf"),"result"===t&&(0,d.jsx)(I,{title:"\ud83c\udf89 \u606d\u559c\u4e2d\u5956",icon:"\ud83c\udf08",content:(0,d.jsxs)("div",{style:{...x.prizeItem,cursor:"default",margin:"20px 0",border:"none",background:"#F9FAFB",transform:"none",justifyContent:"center"},children:[w&&(0,d.jsx)("img",{src:w.img,alt:w.name,style:x.prizeThumbnailLarge})," ",(0,d.jsx)("span",{style:{marginLeft:"10px",fontSize:"18px",fontWeight:"bold"},children:w?.name})]}),onConfirm:()=>i("wheel"),confirmText:"\u597d\u7684"},"res"),"warning"===t&&(0,d.jsx)(I,{title:"\u4eca\u65e5\u5df2\u53c2\u4e0e",icon:"\u26a0\ufe0f",content:(0,d.jsx)("div",{style:x.modalSubTitle,children:"\u6bcf\u5929\u53ea\u6709\u4e00\u6b21\u673a\u4f1a\uff0c\u8bf7\u660e\u5929\u518d\u6765\u9886\u53d6\u597d\u8fd0\u5427\uff01"}),onConfirm:()=>i("wheel"),confirmText:"\u6211\u77e5\u9053\u4e86"},"warn")]}),"wheel"===t&&(0,d.jsxs)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},style:{textAlign:"center",zIndex:1},children:[(0,d.jsx)("h1",{style:x.title,children:"LUCKY WHEEL"}),(0,d.jsx)("div",{style:x.wheelWrapper,children:(0,d.jsx)(o.W1,{ref:e,width:"310px",height:"310px",blocks:[{padding:"10px",background:"#F0F0F0",borderRadius:"50%"}],prizes:F.map(e=>({background:e.color,fonts:[{text:e.name,top:"15%",color:"#fff",fontWeight:"bold",fontSize:"14px"}],imgs:[{src:e.img,width:"40%",height:"40%",top:"35%",borderRadius:"8px",objectFit:"contain"}]})),buttons:[{radius:"35%",background:"#fff",pointer:!0,fonts:[{text:"GO",color:"#FF6B6B",top:"-10px",fontWeight:"900",fontSize:"18px"}]}],onStart:()=>{z?i("warning"):S||(e.current.play(),setTimeout(()=>{const t=F.reduce((e,t)=>e+t.weight,0);let i=Math.random()*t;for(let n=0;n<F.length;n++)if(i-=F[n].weight,i<=0){e.current.stop(n);break}},2500))},onEnd:async e=>{const t=F.find(t=>t.name===e.fonts[0].text);v(t),k(!0),await A({type:"\u6700\u7ec8\u4e2d\u5956",prize:t.name}),localStorage.setItem(`draw_daily_${C}`,"true"),B(!0),i("result"),k(!1)}})})]})]})]})}const x={container:{minHeight:"100vh",background:"#FFFFFF",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",touchAction:"manipulation"},bgGlow:{position:"absolute",width:"100%",height:"100%",background:"radial-gradient(circle at 50% 10%, rgba(255,107,107,0.08) 0%, rgba(255,255,255,0) 60%)",zIndex:0},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(255, 255, 255, 0.96)",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(12px)"},modalContent:{background:"#ffffff",padding:"35px 25px",borderRadius:"32px",textAlign:"center",width:"90%",maxWidth:"380px",boxShadow:"0 30px 60px rgba(0,0,0,0.12)",border:"1px solid rgba(0,0,0,0.05)"},modalTitle:{color:"#333",marginBottom:"12px",fontWeight:"900",fontSize:"24px"},modalSubTitle:{color:"#666",fontSize:"15px",lineHeight:"1.5"},input:{width:"100%",padding:"16px",borderRadius:"16px",border:"1px solid #F0F0F0",background:"#F8F9FA",marginBottom:"20px",textAlign:"center",outline:"none",fontSize:"16px",boxSizing:"border-box"},btnGradient:{width:"100%",padding:"16px",borderRadius:"16px",border:"none",background:"linear-gradient(135deg, #FF6B6B 0%, #FF8E99 100%)",color:"#fff",fontWeight:"bold",fontSize:"16px",transition:"all 0.3s ease",cursor:"pointer"},btnSecondary:{width:"100%",padding:"14px",borderRadius:"16px",border:"1px solid #DDD",background:"#F5F5F5",color:"#555",fontSize:"14px",fontWeight:"800",cursor:"pointer"},prizeGrid:{display:"flex",flexDirection:"column",gap:"12px",maxHeight:"300px",overflowY:"auto"},prizeItem:{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:"16px 20px",borderRadius:"16px",border:"1px solid #f0f0f0",fontSize:"16px",transition:"all 0.3s ease",transform:"scale(1)"},prizeThumbnail:{width:"30px",height:"30px",marginRight:"10px",borderRadius:"6px",objectFit:"contain",flexShrink:0},prizeThumbnailLarge:{width:"60px",height:"60px",borderRadius:"10px",objectFit:"contain",marginBottom:"10px"},checkbox:{width:"20px",height:"20px",borderRadius:"50%",border:"2px solid #ddd",transition:"all 0.2s",flexShrink:0},title:{fontSize:"32px",letterSpacing:"6px",background:"linear-gradient(135deg, #FF6B6B 0%, #FF8E99 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"40px",fontWeight:"900"},wheelWrapper:{padding:"15px",background:"#fff",borderRadius:"50%",boxShadow:"0 20px 60px rgba(0,0,0,0.06)"}}}}]);